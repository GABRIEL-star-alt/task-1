<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>CSS Grid</title>
    <link rel="stylesheet" href="test.css">
    <script src="s.js"></script>
    <style>
        #fpo{
            margin-top: 31%;
    margin-left: 29%;
    height: 30%;
    width: 40%;
    font-size: x-large;
    border-radius: 20px;
    border: none;
}
        
    </style>
     <!-- <style>
    .container{
        display: grid;
        grid-gap: 1rem;
        grid-template-areas: 
        'navbar navbar nasvbar navbar' 
        'section section section aside'
        'footer footer footer footer ';
    }
    .item{
        background-color: yellow;
        border: 3px solid black;
        padding: 12px 23px;
    }
    #navbar{
        grid-area: navbar;
    }
 //   #section{ -->
</head>
<body>
    <div id="try">
  <div id="fpo">
<div id="txt">
game over
the winner is...</div>
<!-- <form id="form">
    <label id ="nam" for="plname">enter name</label><br>
<input type="text" id="player" name="plname"><br>
<label for="speed">enter speed</label><br>
<input type="number" id="fast" name="speed"><br>
<label for="pl">player mode</label><br>
<input type="number" id="mode" name="pl">
</form> -->
<button id="play">
    <a href="mode.html">play again</a> </button>
  </div>
</div>
<div class="body" id="boo">
    <div id="bigto">
        <div class="panele" id="buttons1">
            <div class="al">
    
                <button id="u" onclick="k()" style="border-radius: 10px;">
                    &#11014;
                </button><br><br>
                <button id="l1" onclick="l()" style="border-radius: 10px;">&#11013;</button>
                <button id="pa1" onclick="pa()" style="border-radius: 10px;">pause</button>
                <button id="r1" onclick="r()" style="border-radius: 10px;">&#10145;</button>
                <br><br>
                <button id="d1" onclick="d()" style="border-radius: 10px;">&#11015;</button>
            </div>
                    
        </div>
    <div id="total">
    <div id="lives">
       <div id="lifedis">
        <div id="txt1"></div>
        <div id="h1"></div>
        <div id="h2"></div>
        <div id="h3"></div>
        <div id="h4"></div>
        <div id="h5"></div>
       </div>
    </div>
    <div id="board">
    
        <!-- <div id="intro">
            
        </div> -->

    </div>
</div>
    <div id="ctrl">
    <div class="panel" id="scorings">
        <div class ="panel" id ="score"></div>
        <div class="panel" id ="time"></div>

    </div>
    <div class="pane" id="order">
        <div id="txt">
            order:
            
        </div>
        <div id="c1"></div>
        <div id="c2"></div>
        <div id="c3"></div>
        <div id="c4"></div>

    </div>
    <div class="panel" id="hiscore"></div>
    <div class="panel" id="ldrb"></div> 
    <div class="panele" id="buttons">
        <div class="al">

            <button id="u" onclick="k()" style="border-radius: 10px;">
                &#11014;

            </button><br><br>
            <button id="l" onclick="l1()" style="border-radius: 10px;">&#11013;</button>
            <button id="p" onclick="pa()" style="border-radius: 10px;">&#9208;</button>
            <button id="r" onclick="r1()" style="border-radius: 10px;">&#10145;</button>
            <br><br>
            <button id="d" onclick="d1()" style="border-radius: 10px;">&#11015;</button>
        </div>
                
    </div>
   
    </div>
    
</div>
<script>
   var df= prompt("grid size");
var v1,v2,v3,v4,v5,v6,v7,v8,v9;
document.getElementById("try").style.display="none";
document.getElementById("board").style.gridTemplateColumns=`repeat(${df},1fr)`
document.getElementById("board").style.gridTemplateRows=`repeat(${df},1fr)`
    //document.getElementById("boo").style.display="none"
  //  localStorage.clear();
 
   // document.getElementById("boo").style.display="flex"
var e1=localStorage.getItem("speed2")
var e2=localStorage.getItem("plname2")

    var mod;
//     if(document.getElementById("form").elements[2].value==1){
// mod=1
//     }
//     else{
// mod=2
//     }
document.getElementById("boo").style.filter="blur(0px)"
//var c=document.getElementById("form").elements[1].value;
  

   var tr=0;
   var ty=0;
    var ldbarr=[0];
    ldbarr.pop();
    var temp,life =5;
    var bon=[{x:df/2+1,y:df-3}];

    var sco=0;
var score=0;
localStorage.removeItem("gabisexwithsejal");
//var c=document.getElementById("form").elements[1].value;
var c=e1*100+700
// var gs=prompt("enter grid size");
console.log(c)
var speed=1000-c;

var j,ti=0;
var b1,b2,b3,b4;
  //  var he=localStorage.getItem("name");
    //console.log(he);
var hiscore=0;
console.log("fds")
var c=0;
var co=0;
var fh;
//document.getElementById("board").style.gridTemplateColumns='auto auto auto';
//document.getElementById("board").style.gridTemplateRows='auto auto auto';
document.getElementById("h1").innerHTML="&#128150;"
document.getElementById("h2").innerHTML="&#128150;"
document.getElementById("h3").innerHTML="&#128150;"
document.getElementById("h4").innerHTML="&#128150;"
document.getElementById("h5").innerHTML="&#128150;"
        var score=0;
        //var name= document.getElementById("form").elements[0].value;
        function comparen(a,b){
            return a-b;
        }
        name=e2;
        if(name!=""&&localStorage.length!=0){
            fh=1;
            localStorage.removeItem("roopak");
        }
        if(localStorage.length==0||(!localStorage.getItem(name))){
            localStorage.setItem(name,0);
        }
        else{
            hiscore=localStorage.getItem(name);
        }
        for(let i=0;i<localStorage.length;i++){
            if(localStorage.key(i)!="speed"&&localStorage.key(i)!="plname"&&localStorage.key(i)!="plname1"&&localStorage.key(i)!="plname2"&&localStorage.key(i)!="speed2"&&localStorage.key(i)!="speed1"&&localStorage.key(i)!="score1"&&localStorage.key(i)!="score2")
           ldbarr.unshift(localStorage.getItem(localStorage.key(i)));
        }
    // console.log(ldbarr)
//      ldbarr.forEach((er,io)=>{
// ldbarr[io]=parseInt(er);

//     })
 ldbarr=ldbarr.map(str=>{
    return parseInt(str,10);
})
console.log(ldbarr)
ldbarr.sort(comparen);
    console.log(ldbarr);
     //console.log(ldbarr)
// for(let i=0;i<ldbarr.length;i++){
// }
// console.log(ldbarr)
    

//return arr;
//};
        for(let j=0;j<ldbarr.length;j++){
        console.log(ldbarr[j]);
        }
        ldbarr.reverse();
        for(let j=0;j<ldbarr.length;j++){
        console.log(ldbarr[j]);
        }
        
        var swx=["h"];
        swx.pop();
        for(let i=0;i<3;i++){
           for(let y=0;y<localStorage.length;y++){
           if(localStorage.getItem(localStorage.key(y))==ldbarr[i]){
               swx.push(localStorage.key(y));
               break;
           }
        }
        }
        console.log(swx);
        var booh=document.getElementById("ldrb");
        booh.innerHTML="1"+swx[0]+":"+ldbarr[0]+"<br>"+"2"+swx[1]+":"+ldbarr[1]+"<br>"+"3"+swx[2]+":"+ldbarr[2];
 

   var time=140;
 
   var dr=speed-tr;

   var bons={x:df-3,y:df-3};
var obst={x:2,y:1}
var dic={s1:"abcd",s2:"efgh",s3:"ijkl",s4:"mnop",s5:"qrst",s6:"uiop",s7:"hjkl",s8:"tyui",s9:"fdhj",s10:"fkla"}
var snakeArr=[{x:16,y:17}/*/,{x:11,y:6},{x:12,y:6}*/];
var foods=[{x:16,y:16},{x:16,y:16},{x:16,y:16},{x:16,y:16}];
foods[0].x=Math.ceil(Math.random()*(df-2));
foods[0].y=Math.ceil(Math.random()*(df-2));

foods[1].x=Math.ceil(Math.random()*(df-2));

foods[1].y=Math.ceil(Math.random()*(df-2));

foods[2].x=Math.ceil(Math.random()*(df-2));

foods[2].y=Math.ceil(Math.random()*(df-2));
foods[3].x=Math.ceil(Math.random()*(df-2));

foods[3].y=Math.ceil(Math.random()*(df-2));
port1={x:df/2, y:df/2}
port={x:df/2+3,y:df/2+2};
//cconsole.log(foods[3]);
var dir={x:0,y:0};
var newdir={x:0,y:0};
var fku=0;
var a;
//var da=[];
// if(fku=1){
//     a="Au"
// }
// if(fku=2){
//     a="Ad"
// }
// if(fku=4){
//     a="Al"
// }
// if(fku=5){
//     a="Ar"
// }
// if(da.length>=2){
//     if(fku==1||fku==2){
// if(da[cg]-da[cg-1]==1||da[cg]-da[cg-1]==-1){
//     if(fku==1){
// dir={x:0,y:1}
//     }
//     if(fku==2){
//         dir={x:0,y:-1}
//     }
// }
//     }
//     if(fku==4||fku==5){
// if(da[cg]-da[cg-1]==1||da[cg]-da[cg-1]==-1){
//     if(fku==4){
//         dir={x:1,y:0}
//     }
//     if(fku==5){
//         dir={x:-1,y:0}
//     }
// }
//     }
// }
// var u=document.getElementById("u");
var cnt;
let lastPaintTime = 0;
//var j=setInterval(x,400);
//function x(){
    // snakeArr[0].x += dir.x;
    //         snakeArr[0].y += dir.y;
    function k1(){
        dir.x= 0;
        dir.y= -1;
        //cnt=1;
        //snakeArr[0].x += dir.x;
        //snakeArr[0].y += dir.y;
        console.log(snakeArr[0]);
        console.log(snakeArr[0]);
        //setTimeout(()=>{
        cnt=1;}//,1000);
    
    function d1(){
        dir.x= 0;
        dir.y= 1;
        //snakeArr[0].x += dir.x;
        //snakeArr[0].y += dir.y;
        console.log(snakeArr[0]);
        
        cnt=1;

    }
    function r1(){
        dir.x= 1;
        dir.y= 0;
       // snakeArr[0].x += dir.x;
       // snakeArr[0].y += dir.y;
        console.log(snakeArr[2]);
       // cnt=1;
        
        cnt=1;

    }
    function l1(){
        dir.x= -1;
        dir.y= 0;
        //snakeArr[0].x += dir.x;
        //snakeArr[0].y += dir.y;
        console.log(snakeArr[1]);
        //cnt=1;
        
        cnt=1;

    }
    var cl;
    var p=0;
 var dg=0;  
   cl=setInterval(hand,1000);
   function hand(){
    if(dir.x!=0||dir.y!=0){
    ty=ty+1;
    console.log(ty);
    if(ty>5){
   // tr=tr+100;
p=1;
if(ty==10){
    p=0;
    ty=0
}
console.log(tr,ty);
}
console.log(tr,ty);
    time=time-1;
    console.log("gfds")
        if(time<=100&&dg==0){
            
            console.log("fdsdfdsdf");
      speed-=20;
      clearInterval(j);
     j=setInterval(x,speed);
     dg=1;
        }
    console.log(time);}
    t=document.getElementById("time");
    t.innerHTML="time"+time+"s";
    }


   console.log(tr,ty);
   var xe=new Audio('r.mp3');
   //xe.play();
//    document.getElementById("p").innerHTML="pause";

   
   
   console.log(tr,ty);
   var xe=new Audio('r.mp3');
//    document.getElementById("p").innerHTML="pause";
//    var ik=setinterval(check,78);



var pr1=0;
var pr2=0;
var pr3=0;
var pr4=0;
var ci=0;
function pa(){
    co=co+1;


    if(co%2==0){
        j= setInterval(x,speed);
        cl=setInterval(hand,1000);
        console.log(cl);
        document.getElementById("p").innerHTML="&#9208;";
         document.getElementById("pa1").innerHTML="&#9208;";
      var snd=0;  
    }
    else{
    clearInterval(j);
    clearInterval(cl);
    document.getElementById("p").innerHTML="&#9209;";
document.getElementById("pa1").innerHTML="&#9209;";}
}
    //console.log(uy)
   
   
   console.log(tr,ty);
   var xe=new Audio('r.mp3');
   document.getElementById("p").innerHTML="pause";
   var g=new Audio("end.mp3");
        
        //    }
        b1=Math.ceil(Math.random()*254);
        b2=Math.ceil(Math.random()*254);

         b3=Math.ceil(Math.random()*254);
       // b4=Math.ceil(Math.random()*254);
        z1=Math.ceil(Math.random()*254);
        z2=Math.ceil(Math.random()*254);

         z3=Math.ceil(Math.random()*254);
        //b4=Math.ceil(Math.random()*254);
        y1=Math.ceil(Math.random()*254);
        y2=Math.ceil(Math.random()*254);

         y3=Math.ceil(Math.random()*254);
        //b4=Math.ceil(Math.random()*254);
        o1=Math.ceil(Math.random()*254);
        o2=Math.ceil(Math.random()*254);

         o3=Math.ceil(Math.random()*254);
        var u1= document.getElementById("c4");
           u1.style.backgroundColor="rgb("+b1+","+b2+","+b3+")";
           u1.innerHTML=`${dic.s1[3]}`;
           var u2= document.getElementById("c3");
           u2.style.backgroundColor="rgb("+z1+","+z2+","+z3+")";
           u2.innerHTML=`${dic.s1[2]}`;
           var u3= document.getElementById("c2");
           u3.style.backgroundColor="rgb("+y1+","+y2+","+y3+")";
           u3.innerHTML=`${dic.s1[1]}`;
           var u4= document.getElementById("c1");
           u4.style.backgroundColor="rgb("+o1+","+o2+","+o3+")";
           u4.innerHTML=`${dic.s1[0]}`;
        
            var ghsc=document.getElementById("hiscore");
                       ghsc.innerHTML="player   "+name+"<br>"+"hiscore:    "+localStorage.getItem(name);
                       
        //     setInterval(x,300);
        // }}
        var x1=0;
        var x2=0;
var dec=0;
        var x3=0;
        var x4=0;
var fg=0;
var word=dic.s1;
var ord=0;
         j = setInterval(x,speed);
        function x(){
            //document.getElementById("lives").style.background="radial-gradient(rgb("+Math.ceil(Math.random()*254)+","+Math.ceil(Math.random()*254)+","+Math.ceil(Math.random()*254)+"), rgb("+Math.ceil(Math.random()*254)+","+Math.ceil(Math.random()*254)+","+Math.ceil(Math.random()*254)+"));"
            // var nr=new Audio("end.mp3");
            // nr.play;
            if(obst.y==1)
            {
newdir.x=0
newdir.y=1
            }
            if(obst.y==df){
            obst.x=Math.ceil(Math.random()*(df-3))
            obst.y=1
            }
console.log(snakeArr)
            console.log(speed-tr);
           
            var a1,a2,a3,a4;

            var co1,co2,co3,c04
            var sc=document.getElementById("score");
            sc.innerHTML="score"+score;
            

        

                    if(foods.length==0){
                        ord=ord+1;
                        if(ord>10&&ord<21){
                            ord=ord-10;
                        }
                        if(ord>20){
                            ord=ord/(ord/10)+1-10;
                        }
                        console.log(ord)
                        var dt;
                        if(ord==1){
dt=dic.s1;
                        }
                        if(ord==2){
dt=dic.s2;
                        }
                        if(ord==3){
dt=dic.s3;
                        }
                        if(ord==4){
dt=dic.s4;
                        }
                        if(ord==5){
dt=dic.s5;
                        }
                        if(ord==6){
dt=dic.s6;
                        }
                        if(ord==7){
dt=dic.s7;
                        }
                        if(ord==8){
dt=dic.s8;
                        }
                        if(ord==9){
dt=dic.s9;
                        }
                        if(ord==10){
dt=dic.s10;
                        }
                        
word=dt;
                        ci+=1;
                        snakeArr.push(snakeArr[snakeArr.legth-1]);
                        ti=5;
                        c=0;
                        u1.style.margin="0px";
                        u2.style.margin="0px";

                        u3.style.margin="0px";

                        u4.style.margin="0px";

                        foods=[{x:df/2+3,y:df/2+3},{x:df/2+3,y:df/2+3},{x:df/2+3,y:df/2+3},{x:df/2+3,y:df/2+3}];

foods[0].y=Math.ceil(Math.random()*(df-2));
foods[0].x=Math.ceil(Math.random()*(df-2));
                       
                       foods[1].x=Math.ceil(Math.random()*(df-2));
                       
                       foods[1].y=Math.ceil(Math.random()*(df-2));
           
                       foods[2].x=Math.ceil(Math.random()*(df-2));
                       
                       foods[2].y=Math.ceil(Math.random()*(df-2));
                       foods[3].x=Math.ceil(Math.random()*(df-2));
                       
                       foods[3].y=Math.ceil(Math.random()*(df-2));
                        b1=Math.ceil(Math.random()*254);
                                    b2=Math.ceil(Math.random()*254);
                        
                                    b3=Math.ceil(Math.random()*254);
                                    //a4=Math.ceil(Math.random());
                        
                                    z1=Math.ceil(Math.random()*254);
                                    z2=Math.ceil(Math.random()*254);
                        
                                    z3=Math.ceil(Math.random()*254);
                        
                                    y1=Math.ceil(Math.random()*254);
                                    y2=Math.ceil(Math.random()*254);
                        
                                    y3=Math.ceil(Math.random()*254);
                        
                                    o1=Math.ceil(Math.random()*254);
                                    o2=Math.ceil(Math.random()*254);
                        
                                    o3=Math.ceil(Math.random()*254);
                                    document.getElementById("lives").style.backgroundColor="pink"
           // u1= document.getElementById("c1");
           u1.style.backgroundColor="rgb("+b1+","+b2+","+b3+")"
           u1.innerHTML=`${word[3]}`;
           if(snakeArr[0].x==0){
           u1.style.color="white"}
           if(snakeArr[0].x==1){
           u1.style.color="black"}
            //w2= document.getElementById("c2");
           u2.style.backgroundColor="rgb("+z1+","+z2+","+z3+")";
           u2.innerHTML=`${word[2]}`;
           if(snakeArr[0].x==0){
           u2.style.color="white"}
           if(snakeArr[0].x==1){
           u2.style.color="black"}
           // w3= document.getElementById("c3");
           u3.style.backgroundColor="rgb("+y1+","+y2+","+y3+")";
           u3.innerHTML=`${word[1]}`;
           if(snakeArr[0].x==0){
           u3.style.color="white"}
           if(snakeArr[0].x==1){
           u3.style.color="black"}
            //w4= document.getElementById("c4");
           u4.style.backgroundColor="rgb("+o1+","+o2+","+o3+")";
           u4.innerHTML=`${word[0]}`;
           if(snakeArr[0].x==0){
           u4.style.color="white"}
           if(snakeArr[0].x==1){
           u4.style.color="black"}

                    }
                    console.log(cnt);
                     /*if((dir.x!=0||dir.y!=0)&&snakeArr.length>1)*/
                    
                     
                     
                     for(let pk=1;pk<snakeArr.length-1;pk++) {
                        if(snakeArr[pk].x==snakeArr[0].x&&snakeArr[pk].y==snakeArr[0].y){
                            for(let y=pk;y<=snakeArr.length-1;y++){
                                snakeArr.pop();
                            }
                            var cop=1;
                            console.log("dfgbhnjhvcvbnbvcvbnmbv")

                            //snakeArr=[{x:10,y:6},{x:11,y:6},{x:12,y:6}];
                    temp=-1;
                    life=life+temp;
                    temp=0;
                    if(cop==1){
                        cop=0;
                    //break;
                        }
                        }}
                    
                    if(snakeArr[0].x>=df||snakeArr[0].x<=0||snakeArr[0].y>=df||snakeArr[0].y<=0||dec==1){
                        
                    //     temp=-1;
                    // life=life+temp;
                    // temp=0;
                    if(snakeArr[0].x<=0){
                        console.log("dSDFDS")
                        snakeArr[0].x=df-1;
                            snakeArr[0].y=7;
                        // dir={x:-2,y:0}\
                        dir.x=-1;
                        dir.y=0
//                         dir={x:1,y:0}
//                             for(let i=snakeArr.length-2;i>=0;i--){
                                                  
//                                                   snakeArr[i+1]={...snakeArr[i]};}

// }

                        }
                        if(snakeArr[0].x>=df){
                            snakeArr[0].x=2;
                             snakeArr[0].y=df/2;                            // snakeArr[0].y=7;
                            dir={x:1,y:0}

                            // dir={x:-1,y:0}
//                             for(let i=snakeArr.length-2;i>=0;i--){
                                                  
//                                                   snakeArr[i+1]={...snakeArr[i]};}
//                             snakeArr[0].x-=2;
// if(snakeArr[0].y<=1){
// snakeArr[0].y+=1;}
// if(snakeArr[0].y>=20){
// }  
//     snakeArr[0].y-=1;
                        }
                        if(snakeArr[0].y<=0){
                            console.log("cvfghgvfghjhgcghgfvcvghjhgcghjhgcfghjhfvcghgvfc")
                            snakeArr[0].x=2;
                            snakeArr[0].y=df+1;
                            console.log(snakeArr[0])
                            dir.x=0;
                        dir.y=-1
                            // dir={x:0,y:-2}
//                             dir={x:0,y:1}
//                             for(let i=snakeArr.length-2;i>=0;i--){
                                                  
//                                                   snakeArr[i+1]={...snakeArr[i]};}
//                             snakeArr[0].y+=2;
// if(snakeArr[0].x<=1){
//     snakeArr[0].x+=1;}
//     if(snakeArr[0].x==20){
//         snakeArr[0].x-=1;
//     }
                        }
                        if(snakeArr[0].y>=df){
                            // snakeArr[0].x=19;
                            snakeArr[0].x=df/2;
                            snakeArr[0].y=3;                
                                        dir={x:0,y:1}
//                             dir={x:0,y:-1}
//                             for(let i=snakeArr.length-2;i>=0;i--){
                                                  
//                                                   snakeArr[i+1]={...snakeArr[i]};}
//                             snakeArr[0].y-=2;
// if(snakeArr[0].x==1){
// snakeArr[0].x+=1;}
// if(snakeArr[0].x==20){
//     snakeArr[0].x-=1;
// }  
                        }
                        temp=-1;
                        life=life+temp;
                        snd=1;
                        temp=0;
                        dec=0;
                    
                       snakeArr.forEach((d,m)=>{
                       console.log(snakeArr[m]) ;})
                    // snakeArr=[{x:10,y:6},{x:11,y:6},{x:12,y:6}];
                }
                if(snakeArr[0].x==port.x&&snakeArr[0].y==port.y){
                    snakeArr[0].x=port1.x
                    snakeArr[0].y=port1.y
                    if(snakeArr[snakeArr.length-1].x==port1.x&&snakeArr[snakeArr.length-1].y==port1.y){
                    // port1.x=Math.ceil(Math.random()*(df-6)+2)
                    // port1.y =Math.ceil(Math.random()*(df-6)+2)
                    // port.x=Math.ceil(Math.random()*(df-6)+2)
                    // port.y =Math.ceil(Math.random()*(df-6)+2)
                }
                }
                if(snakeArr[0].x==port1.x&&snakeArr[0].y==port1.y){
                    snakeArr[0].x=port.x
                    snakeArr[0].y=port.y
                    if(snakeArr[snakeArr.length-1].x==port.x&&snakeArr[snakeArr.length-1].y==port.y){
                    // port1.x=Math.ceil(Math.random()*(df-6)+2)
                    // port1.y =Math.ceil(Math.random()*(df-6)+2)
                    // port.x=Math.ceil(Math.random()*(df-6)+2)
                    // port.y =Math.ceil(Math.random()*(df-6)+2)
                }
                }
                    console.log(time)
                    // var g=new Audio("end.mp3");
                    if(life==0){
                        g.play();
                    }
                    var dfg=new Audio("life.mp3");
                    if(life<5){
                        if(life==0){
                            g.play();
                        }
                        if(snd==1){
                            console.log("dfghjkjhgfdfgnjmjnhgfghjmndcfghjhgfghjkhgfdfghjhgfdfghjndcxcfghbgvfcxcfghgf")
                        dfg.play();
                    snd=0;}
                        console.log(life);
                    document.getElementById(`h${life+1}`).innerHTML="&#128148;"}
                        document.getElementById("txt1").innerHTML="lives:"+life;

                    if(life==0||time==0){
var fsc;
var win;
                        localStorage.setItem("score2",score);
                        if(localStorage.getItem("score1")>=localStorage.getItem("score2")){
fsc=localStorage.getItem("score1")
win=localStorage.getItem("plname1")
                        }
                        if(localStorage.getItem("score1")<=localStorage.getItem("score2")){
                            fsc=localStorage.getItem("score2")
                            win=localStorage.getItem("plname2")
                        }
                        // if(mod==2){
                        //     document.getElementById("nam").innerHTML="player 2"
                        // document.getElementById("try").style.display="block";
                        // document.getElementById("boo").style.filter="blur(20px)"
                        // document.getElementById("mode").style.display="none"
                        // v1=1  
                        // g.play();}
                        //var q=prompt("game over!!  press ok restart");
                        document.getElementById("boo").style.display="none"
                        document.getElementById("try").style.display="block"
                        document.getElementById("txt").innerText=`the winner is${win}`
                        document.getElementById("boo").style.filter="blur(20px)"
                         if(1){
                            if(score>=hiscore){
                                hiscore=score;
                                console.log(hiscore)
                                localStorage.setItem(name,hiscore);}
                        //         if(v1==1){
                        //  score=0;       
                        //         }
                    //     }
                        
                        clearInterval(j);
                        snakeArr=[{x:10,y:6}];
                        //foods={x:16,y:16};
                        dir={x:0,y:0};
                   // location.reload()
                    }}
                    
                    // if(life<5){
                    //     if(snd==1){
                    //         console.log("dfghjkjhgfdfgnjmjnhgfghjmndcfghjhgfghjkhgfdfghjhgfdfghjndcxcfghbgvfcxcfghgf")
                    //     dfg.play();
                    // snd=0;}
                    //     console.log(life);
                    // document.getElementById(`h${life+1}`).innerHTML="&#128148;"}
                    //     document.getElementById("txt1").innerHTML="lives:"+life;

                  //   }}
                    
                     
                    
                  for(let i=snakeArr.length-2;i>=0;i--){
                      
                      snakeArr[i+1]={...snakeArr[i]};}
                      console.log("ghjkjhjh")
// var jrx,jry;
// if((jrx-dir.x)==0||(jry-dir.y)==0){
//     console.log("reverse")
//     jrx=dir.x;
//     jry=dir.y;
// }
let sx=snakeArr[0].x  ;
let sy=snakeArr[0].y                   
 snakeArr[0].x += dir.x;
                      snakeArr[0].y += dir.y;
// if(snakeArr[0].x==sx){
//     snakeArr[0]
// }
// if(snakeArr[0].y==sy){
    
// }
obst.x+=newdir.x;
obst.y+=newdir.y;
            //console.log(snakeArr);
                    let board=document.getElementById("board");
                    //console.log(snakeArr);
                    
                    board.innerHTML="";
                    var obs=document.createElement('div');
                    obs.style.gridColumnStart=obst.x;
                    obs.style.gridRowStart=obst.y;
                    obs.setAttribute('id','obstacle');
                    obst.innerHTML="&#128163;"
                    board.appendChild(obs);
                    // document.getElementById("obstacle").innerHTML="&#128163;"
                    document.getElementById("obstacle").style.scale=`${Math.random()+0.75}`;
                    var por=document.createElement('div');
                    por.style.gridColumnStart=port.x;
                    por.style.gridRowStart=port.y;
                    por.setAttribute('id','portal');
                    board.appendChild(por);
                    var por1=document.createElement('div');
                    por1.style.gridColumnStart=port1.x;
                    por1.style.gridRowStart=port1.y;
                    por1.setAttribute('id','portal1');
                    board.appendChild(por1);
                    // var por2=document.createElement('div');
                    // por2.style.gridColumnStart=df;
                    // por2.style.gridRowStart=df/4-1;
                    // por2.setAttribute('id','portal2');
                    // board.appendChild(por2);
                    if(/*(ci%3==0&&fg%2!=0)*/p==1){
                    var bonsu=document.createElement('div');
                    //bonsu.classlist.add('snake');
                    bonsu.style.gridRowStart=bons.y;
                    bonsu.style.gridColumnStart=bons.x;
                    bonsu.setAttribute('id','bonus')
                    board.appendChild(bonsu);
                    // document.getElementById("bonus").innerHTML="&#127826;"
                    document.getElementById("bonus").style.scale=`${Math.random()+0.7}`;
                    //fg=0;()
                }
                    // var bonsu=document.createElement('div');
                    // bonsu.style.gridRowStart=bons.y;
                    // bonsu.style.gridcolumnStart=bons.x;
                    // bonsu.classlist.add('food1');
                    // board.appendChild(bonsu);
                    snakeArr.forEach((e,index)=> {
                        //console.log(index);()
                        //console.log(snakeArr[index]);
                        var se=document.createElement('div');
                        se.style.gridColumnStart=e.x;
                        se.style.gridRowStart=e.y;
                        if(index==0){
                            se.classList.add('head');
                            se.setAttribute('id','sh');
                            // document.getElementsByClassName("head").textcontent="&#128056;"
                        }
                        else{
                            se.classList.add('snake');
                        }
                        //se.classList.add('snake');
                        board.appendChild(se);
                        // document.getElementById("sh").innerHTML="&#128056;"
                        // document.getElementById("sh").style.scale="1.5";
                        document.getElementById("sh").style.textAlign="center";
                    });
        foods.forEach((ex,i)=>{
            if(i==0){
                var k1=b1;
                var k2=b2;
                var k3=b3;
            }
            if(i==1){
                var k1=z1;
                var k2=z2;

                var k3=z3;

            }
            if(i==2){
                var k1=y1;
                var k2=y2;
                var k3=y3;
                //var k=y;

            }
            if(i==3){
                var k1=o1;
                var k2=o2;

                var k3=o3;
                //var k=o;

            }
            var dp=3-i;
            console.log(`jnj j${i}`);
        var f=document.createElement('div');
        f.classList.add(`food${i}`);
        f.setAttribute('id',`les${i}`)
        f.style.gridColumnStart=ex.x;
        f.style.gridRowStart=ex.y;
        board.appendChild(f);
       //console.log(a1,a2,a3);
        document.getElementById(`les${i}`).style.backgroundColor="rgb("+k1+","+k2+","+k3+")";
        if(snakeArr[0].x%2==0){
        document.getElementById(`les${i}`).style.color="white";}
        if(snakeArr[0].x%2==1){
        document.getElementById(`les${i}`).style.color="black";}
    
    // document.getElementById(`les${i}`).style.backgroundColor="rgb("+d1+","+k2+","+d3+")";
    // document.getElementById(`les${i}`).style.backgroundColor="rgb("+k1+","+d2+","+p3+")";
    // document.getElementById(`les${i}`).style.backgroundColor="rgb("+p1+","+p2+","+k3+")";

f.innerHTML=`${word[3-i]}`;}
        )
        
        if((snakeArr[0].x==bons.x)&&(snakeArr[0].y==bons.y)&&p==1){
            var ate=new Audio("bonus.mp3")
            ate.play();
            bons.x=Math.ceil(Math.random()*17)+1;
            bons.y=Math.ceil(Math.random()*17);
            fg=fg+1;
            // if(p==1){
            score=score+5;
           // }
            // else{
            //     document.getElementById("bonus").style.display="none";
            // }

    
        }
        for(let i=0;i<snakeArr.length;i++){
        if(obst.x==snakeArr[i].x&&obst.y==snakeArr[i].y){
            dec=1;}}
        foods.forEach((exi,ip) => {
    
     if((snakeArr[0].x==foods[ip].x)&&(snakeArr[0].y==foods[ip].y))
     {
        // a1=Math.ceil(Math.random()*254);
        //     a2=Math.ceil(Math.random()*254);

        //     a3=Math.ceil(Math.random()*254);
        //     a4=Math.ceil(Math.random());
        //    var w1= document.getElementById("c1");
        //    w1.style.backgroundColor="rgba("+a1+","+a2+","+a3+","+a4+")";
        //    var w2= document.getElementById("c1");
        //    w2.style.backgroundColor="rgba("+a1+","+a2+","+a3+","+a4+")";
        //    var w3= document.getElementById("c1");
        //    w3.style.backgroundColor="rgba("+a1+","+a2+","+a3+","+a4+")";
        //    var w4= document.getElementById("c1");
        //    w4.style.backgroundColor="rgba("+a1+","+a2+","+a3+","+a4+")";
c=c+1;
if((c==1&&ip==3)||(c==2&&ip==2)||(c==3&&ip==1)||(c==4&&ip==0)){
//     if(u1.style.margin=="5px"||u2.style.margin=="5px"||u3.style.margin=="5px"||u4.style.margin=="5px"){
// foods.pop();
 score+=1;
if(c==1){
u4.style.margin="5px";
}
if(c==2){
u3.style.margin="5px";
}
if(c==3){
u2.style.margin="5px";
}
if(c==4){
u1.style.margin="5px";  
}
if(u1.style.margin=="5px"||u2.style.margin=="5px"||u3.style.margin=="5px"||u4.style.margin=="5px"){
foods.pop();
score+=sco;
if(sco==8){
    sco=0;
}}
}
if(c==1&&ip!=3){
    c=0;
}
if(c==2&&ip!=2){
    c=1;
}
if(c==3&&ip!=1){
    c=2;
}
if(c==4&&ip!=0){
    c=3;
}
        //xe.play();
         var fk=document.getElementById(`les${ip}`);
         console.log(`food${ip}`);
    
    }
});
//document.getElementById("bonus").style.scale="1";
        }

// function hand(){
//     time=time-1;
//     time=time+ti;
//     if(time==0){

//     }
//     t=document.getElementById("time");
//     t.innerHTML="time"+time+"s";
//     if(ti==5){
//         ti=0;
//     }
//    }
var prs1=0;
var prs2=0;
var prs3=0;
var prs4=0;
var cu=0;
var cg=-1;
var da=[];
da.pop();
     window.addEventListener('keydown', e =>{
   // inputDir = {x: 0, y: 1} // Start the game
    //moveSound.play();
    if(e.key=="ArrowUp"&&!(dir.x==0&&dir.y==1)){
        dir.x=0;
        dir.y=-1
    }
    if(e.key=="ArrowDown"&&!(dir.x==0&&dir.y==-1)){
        dir.x=0;
        dir.y=1
    }
    if(e.key=="ArrowLeft"&&!(dir.x==1&&dir.y==0)){
        dir.x=-1;
        dir.y=0;
    }
    if(e.key=="ArrowRight"&&!(dir.x==-1&&dir.y==0)){
        dir.x=1;
        dir.y=0
    }
    if(e.key==" "){
pa();
    }
// da.push(fku);
// if(da.length>=2){
//     if(fku==1||fku==2){
// if(da[cg]-da[cg-1]==1||da[cg]-da[cg-1]==-1){
//     if(fku==1){
// dir={x:0,y:1}
// da[cg]=da[cg-1]
//     }
//     if(fku==2){
//         dir={x:0,y:-1}
//         da[cg]=da[cg-1]
//     }
// }
//     }
//     if(fku==4||fku==5){
// if(da[cg]-da[cg-1]==1||da[cg]-da[cg-1]==-1){
//     if(fku==4){
//         dir={x:1,y:0}
//         da[cg]=da[cg-1]
//     }
//     if(fku==5){
//         dir={x:-1,y:0}
//         da[cg]=da[cg-1]
//     }
// }
//     }
// }
console.log(da)
})   //window.requestAnimationFrame(main);

</script>
</body>
</html>

  <!-- var foods={x:16,y:16},{x:16,y:16},{x:16,y:16},{x:16,y:16};
// foods[0].x=Math.floor(math.random()*19);
// foods[0].y=Math.ceil(math.random()*19);




// foods[1].x=Math.ceil(math.random()*19);

// foods[1].y=Math.ceil(math.random()*19);

// foods[2].x=Math.ceil(math.random()*19);

// foods[2].y=Math.ceil(math.random()*19);
// foods[3].x=Math.ceil(math.random()*19);

// foods[3].y=Math.ceil(math.random()*19); -->